<!doctype html><html lang=es-es><head><title>| Jesús Millán</title><meta charset=utf-8><meta name=language content="en"><meta name=description content><meta name=keywords content><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content><meta name=twitter:site content="@jmillandev"><meta name=twitter:creator content="https://twitter.com/jmillandev"><link rel="shortcut icon" type=image/png href=/favicon.ico><link type=text/css rel=stylesheet href=/jmillandev.github.io/css/post.min.2cb93c91050d1853bf971cc31e00122edd6e0f405aa1de3b7f8ef67ea3b5a79a.css integrity="sha256-LLk8kQUNGFO/lxzDHgASLt1uD0Baod47f472fqO1p5o="><link type=text/css rel=stylesheet href=/jmillandev.github.io/css/custom.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css integrity="sha256-47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU="><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/\/jmillandev.github.io\/apuntes\/node\/","name":"","author":{"@type":"Person","name":""},"description":""}</script></head><body><div class=burger__container><div class=burger aria-controls=navigation aria-label=Menu><div class="burger__meat burger__meat--1"></div><div class="burger__meat burger__meat--2"></div><div class="burger__meat burger__meat--3"></div></div></div><nav class=nav id=navigation><ul class=nav__list><li><a href=/jmillandev.github.io/>About</a></li><li><a class=active href=/jmillandev.github.io/apuntes/>Apuntes</a></li><li><a href=/jmillandev.github.io/blog/>Blog</a></li></ul></nav><main><style>@media(min-width:1024px){.post{width:85%;margin:0 auto;max-width:100%}}</style><div class=flex-wrapper><div class=post__container><div class=post><header class=post__header><h1 id=post__title></h1></header><article class=post__content><h1 id=1-instalaciones-recomendadas>1 Instalaciones Recomendadas</h1><ol><li><p><a href=https://link>Postman</a>: Para inspeccionar las peticiones al servidor.</p></li><li><p><a href=https://link>VScode</a>: No es obligatorio. Tambien se recomiendan las siguientes extensiones:</p></li></ol><ul><li>HTML CSS Support.</li><li>JavaScript(ES6) code snippets.</li><li>JS_CSS_HTML Formatter.</li><li>Terminal.</li><li>TypeScript Importer.</li></ul><ol start=3><li><a href=https://link>Git</a>: Es un manejador de versiones.</li></ol><h1 id=2-paquetes-recomendados>2 Paquetes Recomendados</h1><h2 id=21-nodemon>2.1 Nodemon<a class=anchor href=#21-nodemon>#</a></h2><p><a href=https://www.npmjs.com/package/nodemon>Nodemon</a>: Este paquete nos sera de mucha ayuda para no tener que bajar y subir el servidor manualmente cada vez que hagamos un cambio. Este hara el reinicio automaticamente cuando note un cambio en alguno de los archivos.</p><p><strong>NOTA:</strong> Por default nodemon solo reseteara el servidor cuando hagamos una cambio en los archivos javascript. Si queremos que ejecute estos cambios en otro tipo de ficheros lo haremos de lasiguiente manera: <code>nodemon app -e js,css,html,hbs</code></p><h2 id=22-yargs>2.2 Yargs<a class=anchor href=#22-yargs>#</a></h2><p><a href=https://www.npmjs.com/package/yargs>Yargs</a>: Nos sirve para manejar los argumentos de entrada en una app de linea de comandos.</p><h2 id=colors>Colors<a class=anchor href=#colors>#</a></h2><p><a href=https://www.npmjs.com/package/colors>Colors</a>: Nos ayuda a colorear la salida de nuestra CLI.</p><h2 id=23-request>2.3 Request<a class=anchor href=#23-request>#</a></h2><p><a href=https://link>Request</a>: Nos sirve para hacer peticiones HTTP utilizando callbacks.
<strong>NOTA:</strong> El metodo <a href=https://link>encodeUrl()</a> nos puede servir de mucha ayuda. Sirve para escapar strign a uri amigables.</p><h2 id=24-axios>2.4 Axios<a class=anchor href=#24-axios>#</a></h2><p><a href=https://link>Axios</a>: Nos sirve para hacer peticiones HTTP utilizando promesas.
<strong>NOTA:</strong> El metodo <a href=https://link>encodeUrl()</a> nos puede servir de mucha ayuda. Sirve para escapar strign a uri amigables.</p><h2 id=25-express>2.5 EXPRESS<a class=anchor href=#25-express>#</a></h2><p><a href=https://www.npmjs.com/package/express>Express</a>: Nos permite montar un servidor HTTP. Esta basado en la libreria HTTP que viene por defecto en node.</p><h2 id=26-handlebars>2.6 Handlebars<a class=anchor href=#26-handlebars>#</a></h2><p><a href=https://www.npmjs.com/package/hbs>hbs</a>: Es un motor de platatillas(template engine) para express.
Una configuracion sencilla para este motor de plantillas junto con express es:</p><pre><code class=language-javascript>const express = require('express')
const app = express()

app.set('view engine', 'hbs')

app.get('/', (req, res) =&gt; {
    res.render('filename', {
        // Context
    })
})
</code></pre><p><strong>NOTA:</strong> Debe haber un fichero con extension <code>.hbs</code> en un carpeta views en la raiz de la app. Este fichero contiene el template.</p><h2 id=27-body-parser>2.7 Body-parser<a class=anchor href=#27-body-parser>#</a></h2><p><a href=https://link>Body-parser</a>: No ayuda a leer mensajes serializados desde la URL(como por ejemplo los que son mandados por POST o PUT)</p><h1 id=28-mongoose>2.8 Mongoose</h1><p><a href=https://link>Mongoose</a>: Nos permite conectarnos a una base de datos NoSQL(MongoDB)</p><h1 id=29-moogoose-unique-validator>2.9 Moogoose-unique-validator</h1><p><a href=https://www.npmjs.com/package/mongoose-unique-validator>Mongoose-unique-validator</a>
Nos permite mostrar de una manera mas amigable los errores.</p><h1 id=210-bcrypt>2.10 Bcrypt</h1><p>Nos sirve para ecriptar mensajes.</p><h1 id=211-jsonwebtoken>2.11 Jsonwebtoken</h1><p>Nos sirve para la genereacio y firma de JWT.</p><h1 id=212-express-fileupload>2.12 express-fileupload</h1><p>Bueno, como su nombre indidca este paquete nos ayudara a la subida de archivos a nuestro servidor.</p><h1 id=3-requireds>3 Requireds</h1><p>Tenemos 3 tipos de required:</p><ol><li>De un proyecto propio de node: Son librerias que ya existen en node. No requieren de ningun paso adicional.
Podemos encontrar dichas librerias en la <a href=https://link>documentacion de node</a>.
Ejemplo:</li></ol><p><code>const fs = require('fs')</code></p><ol start=2><li><p>Libreria externas. Paquetes que no son nativos de node.</p></li><li><p>Archivos de nuestro proyecto. Ejemplos</p></li></ol><pre><code class=language-javascript>const module1 = require('./module1')
const module2 = require('../modules/module2')
</code></pre><p><strong>NOTA:</strong> los modulos se exportan a traves del metodo exports del objeto module. Este objeto esta disponible a en todo el proyecto. Dicho metodo recibe un JSON con las funciones,objetos,variable, etc a exportar.</p><h1 id=4-objetos-de-node>4 Objetos de NODE</h1><p>Durando el ciclo de vida de un programa en node hay varios objetos que corren en este. Algunos son:</p><ul><li><p>module: Este contine valores como cuales son los modulos disponibles o exportados durante nuestra app.</p></li><li><p>process: Contiene muchos datos interesantes. Sobre que SO esta corriendo la app, arquitectura del procesaro,argumentos(argv), etc.</p></li></ul><h1 id=5-proyecto-con-npm>5 proyecto con npm</h1><p>Podemos compartir y tener un control de versiones de las dependencias con npm como lo hariamos con composer en PHP.</p><p><strong>NOTA:</strong> Esto es muy importante hacerlo antes de instalar dependencias
Sintasis: <code>npm init</code></p><h1 id=51-script>5.1 script</h1><p>Al instalar o iniciar un proyecto. en el fichero package.json tenemos un atributo o propiedad <em>script</em>. En este estan todos los comando que podremos ejecutar desde nuestra app en produccion.
Para correr un comando la sintaxis seria: <code>npm run name_comand</code></p><p><strong>NOTA:</strong> Si montamos una app en Heroku por defecto esta ejecutara el servidor desde el script <em>start</em>.</p><h1 id=tokents>Tokents</h1><p>Los tokents son utilizados para verificar o identificar a un usuario en especial. Se pueden asociar tambien con las variables de session.</p><p>Pero estos son mucho mas manejables y permite manejar una mayor cantidad de usuarios(mas de 5 mil) sin invertir en un gran equipo.</p><h2 id=jwt>JWT<a class=anchor href=#jwt>#</a></h2><p>Los JSON Web Tokents estan compuestos por 3 partes principales separados por un punto( &lsquo;.&rsquo; ):</p><ul><li><p>Header: Contiene informacion sobre el algoritmo utilizado para la incriptacion junto con el tipo de tokent(en este caso JWT)</p></li><li><p>Payload: Contiene la informacion que enviamos en el Token(Aunque pensemos que esta encriptado(de forma segura) es muy facil desencriptar la informacion)</p></li><li><p>Firma: Es lo que le permite a los verificadores del JWT que este es valido.</p></li></ul><p><a href=https://jwt.io>https://jwt.io</a> es una herramientamienta muy util.</p></article><div class=pagination><a class=pagination__item href=https:///jmillandev.github.io/apuntes/oop/><span class=pagination__label>Previous Post</span>
<span class=pagination__title></span></a><a class=pagination__item href=https:///jmillandev.github.io/apuntes/nginx/><span class=pagination__label>Next Post</span>
<span class=pagination__title></a></a></div><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"jmillandev"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><footer class=post__footer><div class=social-icons><a class=social-icons__link title=Twitter href=https://twitter.com/jmillandev target=_blank rel=noopener><div class=social-icons__icon style=background-image:url(https:///jmillandev.github.io/svg/twitter.svg)></div></a><a class=social-icons__link title=GitHub href=https://github.com/jmillandev target=_blank rel=noopener><div class=social-icons__icon style=background-image:url(https:///jmillandev.github.io/svg/github.svg)></div></a><a class=social-icons__link title=LinkedIn href=https://www.linkedin.com/in/jmillandev-42664412a/ target=_blank rel=noopener><div class=social-icons__icon style=background-image:url(https:///jmillandev.github.io/svg/linkedin.svg)></div></a></div><p>© 2022</p></footer></div></div></div></main><script src=/jmillandev.github.io/js/index.min.49e4d8a384357d9b445b87371863419937ede9fa77737522ffb633073aebfa44.js integrity="sha256-SeTYo4Q1fZtEW4c3GGNBmTft6fp3c3Ui/7YzBzrr+kQ=" crossorigin=anonymous></script><script src=https://unpkg.com/prismjs@1.20.0/components/prism-core.min.js></script><script src=https://unpkg.com/prismjs@1.20.0/plugins/autoloader/prism-autoloader.min.js data-autoloader-path=https://unpkg.com/prismjs@1.20.0/components/></script></body></html>